services:
  frontend:
    restart: always
    build:
      context: ./frontend
      dockerfile: Dockerfile
      args:
        VITE_API_URL: ${VITE_API_URL}
        VITE_SUPABASE_URL: ${VITE_SUPABASE_URL}
        VITE_SUPABASE_ANON_KEY: ${VITE_SUPABASE_ANON_KEY}
    container_name: frontend
    # ✅ FIX 2: Remove 'expose' - use 'ports' in override file
    # ✅ FIX 3: Remove conflicting port mapping (5173:5173)
    volumes:
      - uploads:/shared/uploads

volumes:
  uploads: